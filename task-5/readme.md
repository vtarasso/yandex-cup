E. Иггдрасиль (40 баллов)
В своей новой NFT-коллекции Eternal World Никита Рептилоидов решил воссоздать в цифровом виде древние представления разных народов мира о Вселенной.

Первая работа — мировое древо Иггдрасиль из скандинавской мифологии, которое соединяет все девять миров: от Асгарда — страны богов-асов, до Хельхайма — царства мёртвых, куда попадают умершие от болезней, голода и старости.

Чтобы продемонстрировать всю мощь и величественность Иггдрасиля, NFT-художник написал код, генерирующий фрактальное дерево. В результате изображение долго загружается на мобильных устройствах и виснет у многих пользователей.

Ваша задача — оптимизировать код, чтобы картина как можно быстрее отображалась на любых девайсах.
Примечания
Вносить изменения нужно только в файле drawTree.js. Получайте значения переменных ctx, length, depth и angleOffset из области видимости, как это сделано в оригинальной реализации функции.

При оптимизации кода учитывайте следующие принципы:

Удалите использование рекурсии;
Избавьтесь от лишних вызовов трудозатратных функций computeWidth и computeColor;
Улучшение производительности не должно снижать функциональность Генератора фрактального дерева;
Для проверки нужно отправить только содержимое файла drawTree.js

Решение требуется оформить по шаблону:

// вспомогательные функции

function drawTree(startY, angle, level = 0) {
// основная функция
// ...
};
Чтобы открыть playground, откройте файл проекта index.html в своём браузере. Решение будет оценено с учётом глубины стека вызовов и времени отрисовки дерева